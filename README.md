# Linguister [![Build Status](https://travis-ci.org/TomSputz/linguister.svg?branch=master)](https://travis-ci.org/TomSputz/linguister) [![XO code style](https://img.shields.io/badge/code_style-XO-5ed9c7.svg)](https://github.com/sindresorhus/xo) [![Coverage Status](https://coveralls.io/repos/github/TomSputz/linguister/badge.svg?branch=master)](https://coveralls.io/github/TomSputz/linguister?branch=master) [![Known Vulnerabilities](https://snyk.io/test/github/TomSputz/linguister/badge.svg)](https://snyk.io/test/npm/google-translate-api)

A **free** and **unlimited** API for Google Translate built in typescript :dollar::no_entry_sign:

## Features

-   Auto language detection
-   Full typing
-   Spelling correction
-   Language correction
-   Fast and reliable – it uses the same servers that [translate.google.com](https://translate.google.com) uses

## Install

```sh
npm install --save linguister
```

## Usage

The module automatically exposes a default wrapper through the `translate` export, however if you want to spawn the requests differently, you can extend `Linguister.TranslateAPI`, calling `_translate` for the API request

From automatic language detection to English:

```js
import {translate} from 'linguister'

translate('Ik spreek Engels', {to: 'en'}).then(res => {
    console.log(res.text)
    //=> I speak English
    console.log(res.from.language.iso)
    //=> nl
}).catch(err => {
    console.error(err)
})
```

From English to Dutch with a typo:

```js
translate('I spea Dutch!', {from: 'en', to: 'nl'}).then(res => {
    console.log(res.text)
    //=> Ik spreek Nederlands!
    console.log(res.from.text.autoCorrected)
    //=> true
    console.log(res.from.text.value)
    //=> I [speak] Dutch!
    console.log(res.from.text.didYouMean)
    //=> false
}).catch(err => {
    console.error(err)
})
```

Sometimes, the API will not use the auto corrected text in the translation:

```js
translate('I spea Dutch!', {from: 'en', to: 'nl'}).then(res => {
    console.log(res);
    console.log(res.text)
    //=> Ik spea Nederlands!
    console.log(res.from.text.autoCorrected)
    //=> false
    console.log(res.from.text.value)
    //=> I [speak] Dutch!
    console.log(res.from.text.didYouMean)
    //=> true
}).catch(err => {
    console.error(err)
})
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [Translation](#translation)
-   [LangFrom](#langfrom)
-   [TranslateAPI](#translateapi)
    -   [translate](#translate)

### Translation

The class the API responds with

#### Properties

-   `text` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** –  The translated text
-   `from` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Details about the original text
    -   `from.language.didYouMean` **[Boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** True if the API suggested a correction in the source language
    -   `from.language.didYouMean` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The ISO 639-I language code of the language that the API has recognized in the text
    -   `from.text.value` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The untranslated auto corrected text or suggested text
    -   `from.text.autoCorrected` **[Boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** True if the API has auto corrected the text
    -   `from.text.didYouMean` **[Boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** True if the API has suggested corrections to the text
-   `raw` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)** The raw response from th egoogle translate server

### LangFrom

Returns the ISO 639-1 code of the desiredLang – if it is supported by Google Translate

#### Parameters

-   `query` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** – the name or the code of the desired language

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The ISO 639-1 code of the language

### TranslateAPI

Used to spawn api requests. Will handle a ratelimit

#### Parameters

-   `ratelimit`   (optional, default `1000`)

#### translate

Translate a string using google's translate API

##### Parameters

-   `text` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The text to translate
-   `opts` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Options for the request (optional, default `{}`)
    -   `opts.from` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** The language to translate from
    -   `opts.to` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** The language to translate to

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;Translation>** The translation response

## Coverage

To run the coverage task, the coveralls token must be set in the COVERALLS_REPO_TOKEN enviroment variable

## License

MIT © Tom Sputz
